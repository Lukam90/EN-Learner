{% extends "layout.twig" %}

{% block title %}Profil de l'utilisateur {{ session.username }}{% endblock %}

{% block content %}
    <h2>Profil de l'utilisateur {{ session.username }}</h2>

    <p>{{ nbThemes }} thème{% if nbThemes > 1 %}s{% endif %} + {{ nbExpressions }} expression{% if nbExpressions > 1 %}s{% endif %}</p>

    {% if 1 %}
        <div class="w3-container w3-third">
            <h3>Identifiants</h3>

            <form action="{{ root }}/users/profile/{{ id }}" method="post">
                {# Pseudo #}

                <label for="username">Pseudo</label>
                <input type="text" name="username" id="username" value="{{ username }}" class="w3-input w3-border w3-margin-bottom">

                <p class="tip">{{ tips.username }}</p>

                <p class="error">{{ errors.username }}</p>

                {# Adresse e-mail #}

                <label for="email">Adresse e-mail</label>
                <input type="text" name="email" id="email" value="{{ email }}" class="w3-input w3-border w3-margin-bottom">

                <p class="tip">{{ tips.email }}</p>

                <p class="error">{{ errors.email }}</p>

                {# Jeton CSRF #}

                <input type="hidden" name="token" value="{{ session.token }}">

                {# Bouton #}

                {{ forms.submit("Editer") }}
            </form>

            <hr>

            <h3>Mot de passe</h3>

            <form action="{{ root }}/users/profile/1" method="post">
                {# Ancien mot de passe #}

                <label for="old">Ancien mot de passe</label>
                <input type="password" name="old" id="old" value="{{ old }}" class="w3-input w3-border w3-margin-bottom">

                <p class="tip">{{ tips.old }}</p>

                <p class="error">{{ errors.old }}</p>

                {# Nouveau mot de passe #}

                <label for="new">Nouveau mot de passe</label>
                <input type="password" name="new" id="new" value="{{ new }}" class="w3-input w3-border w3-margin-bottom">

                <p class="tip">{{ tips.new }}</p>

                <p class="error">{{ errors.new }}</p>

                {# Confirmation de mot de passe #}

                <label for="confirm">Confirmer le nouveau mot de passe</label>
                <input type="password" name="confirm" id="confirm" value="{{ confirm }}" class="w3-input w3-border w3-margin-bottom">

                <p class="error">{{ errors.confirm }}</p>

                {# Jeton CSRF #}

                <input type="hidden" name="token" value="{{ token }}">

                {# Bouton #}

                <button class="w3-btn w3-margin-bottom w3-green">Editer</button>

                {#
                <p>
                    <a class="tip" href="{{ root }}/reset">Ancien mot de passe oublié ?</a>
                </p>
                #}
            </form>
        </div>
    {% else %}
        <p>Vous n'êtes pas autorisé(e) à consulter cette page de profil.</p>

        <p>Veuillez revenir à la <a class="tip" href="{{ root }}/">page d'accueil</a>.</p>
    {% endif %}
{% endblock %}